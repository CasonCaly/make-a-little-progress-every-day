# From urban planning and emergency training to Pokémon Go: applications of virtual reality GIS (VRGIS) and augmented reality GIS (ARGIS) in personal, public and environmental health

从城市规划和应急培训到 Pokémon Go：虚拟现实地理信息系统（VRGIS）和增强现实地理信息系统（ARGIS）在个人、公共和环境健康方面的应用

## 摘要
最新一代的虚拟和混合现实硬件重新点燃了人们对虚拟现实 GIS（VRGIS）和增强现实 GIS（ARGIS）在健康领域应用的兴趣，并为在个人和公共健康领域使用这些技术提供了新的、令人兴奋的机会和可能性。从智能城市规划和应急培训到 Pokémon Go，本文提供了一些最卓越的 VRGIS 和 ARGIS 的解决方案，以解决公共和环境健康问题，并为个人和社区带来更安全、更健康的生活选择。文章还介绍了这些解决方案的主要技术基础和问题。

Keywords: VRGIS (virtual reality GIS), ARGIS (augmented reality GIS), Urban planning, Environmental planning, Smart cities, Emergency training, Physical activity, Public health, Pokémon Go

## 背景
虚拟现实 GIS（VRGIS）已有几十年的历史。它从 20 世纪 90 年代就已经出现了[1，2]。（还可以加上混合现实 GIS（MRGIS）和增强现实 GIS（ARGIS）作为密切相关的术语和概念）。但是，大数据、增强现实、图形处理单元（GPU）和物联网（IoT）等更多最新技术的发展，为 VRGIS 提供更优的实现、更高的性能和更好的人机交互模式，使其能够用于解决更复杂、更实用的现实世界问题。

VRGIS 技术是虚拟现实（VR）与 GIS 技术的结合，融合了三维 GIS（3D GIS）和面向互联网的 GIS（Web GIS）。VRGIS 技术采用不同的人机交互设备[1]。它在虚拟环境中建立三维（3D）模型，并通过个人电脑、移动设备和智能眼镜进行操作。新一代低成本的硬件技术和无处不在的设备大大降低了 VRGIS 被各研究团体和用户群体采用和接受的门槛[3]。

事实上，2016 年为更成熟、更方便的移动和非移动 VRGIS 和 ARGIS 应用带来了新的机遇，各大厂商纷纷发布了主流的沉浸式 VR 硬件装备，其价格、复杂程度和功能跨度很大，如谷歌（Daydream View VR[4] 及其 2014 年推出的便宜得多的前身 Cardboard[5]，它利用智能手机的陀螺仪进行头部追踪-图 1）、微软（HoloLens[6] 和更便宜的 VR 头显[7]）、Valve 和 HTC（Vive[8]）、Facebook 和三星（Oculus Rift 和 Gear VR[9]）以及索尼（PlayStation VR[10]）。

[![图片可能因为网络原因掉线了，请刷新或直接点我查看图片~](https://cdn.jsdelivr.net/gh/ylsislove/image-home/test/20210109214611.png)](https://cdn.jsdelivr.net/gh/ylsislove/image-home/test/20210109214611.png)

图 1：由于其制造成本非常低，如今在英国和欧洲的各种商店里，发现基于谷歌 Cardboard 的 VR 套装价格低至 1 英镑或 1.5 欧元，甚至很多来源的促销礼品都是免费的，这并不罕见

## 近期 VRGIS 和 ARGIS / MRGIS 在卫生和公共卫生领域的应用概览
### 智能健康城市（城市和环境规划）
在智慧健康城市[11，12]领域，VRGIS提供了独特的模拟和可视化机会，可用于城市和环境规划，以及影响评估。用于城市规划和设计的 Esri CityEngine[13，14]已经成功地与 Oculus Rift 结合，为更多参与性、更智能的城市规划提供了强大的 VRGIS 解决方案[15，16]。由于其强大的沉浸式可视化方法，该平台可用于更好地与利益相关者和公民/社区互动，并收集他们对影响其生活和工作场所的任何拟议的未来城市规划的意见。例如，可以测试街区的步行能力（自行车道、步行道等），并模拟一天中不同时段的城市和街道噪音水平（如果结合3D空间音频解决方案和适当的城市噪音源和水平模型）。希望粗略了解 Esri CityEngine 与 Oculus Rift 体验的读者（不附带价格标签）可以尝试 Cardboard 下的 Google 街景[17]。本文稍后将对 "VRGIS 在智慧城市中的应用 "进行深入探讨。

### 大规模伤亡教育和应急培训
VRGIS 还可以作为一个城市或国家应急准备规定的一部分，用于大规模伤亡教育以及军事和应急培训。可以利用 GIS 数据和真实的城市模型，在身临其境的 3D VR 环境中模拟自然和人为灾害中的疏散和反应场景（有计划的和演练的）。可以提供逼真的、沉浸式的虚拟事故场景供受训者互动，而成本仅为物理（真实）世界中类似大规模常规演练的一小部分[18-20]。

### 个人健康和福祉（促进身体活动和减轻压力）
体育活动（适量）是健康生活方式的一个关键要素。它能改善身心健康，减少压力，降低人患重大疾病（如2型糖尿病、心脏病、中风和癌症）的风险，并降低过早死亡的风险。2016 年 7 月推出的 Pokémon Go[21]（图2），是一款基于位置的移动社交锻炼游戏[22]，具有潜在的和记录在案的健康益处（如[23-25]），也许是有史以来最受欢迎的健康相关 ARGIS 应用实例。由谷歌地球[26]背后的同一批专家创建的 Pokémon Go 在很大程度上依赖于智能手机的定位服务（GPS（全球定位系统）、Wi-Fi和移动网络）来提供多人游戏体验，但有记录和潜在的滥用或安全和隐私问题[27-30]。

[![图片可能因为网络原因掉线了，请刷新或直接点我查看图片~](https://cdn.jsdelivr.net/gh/ylsislove/image-home/test/20210109223928.png)](https://cdn.jsdelivr.net/gh/ylsislove/image-home/test/20210109223928.png)

图 2：在 Android 智能手机上运行的 Pokémon Go。注意用户现实世界位置的卡通风格地图。附近的口袋妖怪生物、PokeStops（玩家可以在那里收集游戏中的物品，如鸡蛋和口袋球（用于捕捉口袋妖怪生物））和 Pokémon Go Gyms（口袋妖怪世界的战斗竞技场）都被叠加在地图上。玩家要向这些生物和兴趣点走去或跑去，与它们互动，同时互相竞争和组队。（所有玩家在给定的位置和时间看到的是周围相同的生物和兴趣点）。在 AR（增强现实）模式下，游戏使用智能手机的摄像头将神奇宝贝生物（当它们被玩家捕获时）叠加到现实世界的场景上。

和其他非常多的游戏一样，《Pokémon Go》的用户兴趣有些消退，用户基数下降也是意料之中的，尤其是考虑到最初的媒体炒作，促使很多人只是暂时性地进入游戏，满足自己的好奇心[31]。尽管如此，截至 2017 年 1 月，《Pokémon Go》[32]的更新和游戏进一步货币化的商品，如 Pokémon Go Plus 穿戴设备[33]仍在发布。但游戏的连续更新也让游戏变得越来越“沉重”和臃肿，并因此在性能较差的低端设备上运行速度变慢或完全无法运行。例如，苹果 iPhone 4S 几乎可以完美运行最早版本的《Pokémon Go》，但新版本的游戏（截至 2017 年 1 月）在该手机上却无法运行，每次尝试运行游戏时都会崩溃。未来版本的 Pokémon Go 和类似游戏需要改进的地方包括“游戏加载时间”（需要更快）和“电池消耗”（需要减少）。

此外，游戏在某种程度上就像时尚一样，现在很多人都在期待着继《Pokémon Go》之后的下一款地理社交游戏。大多数人都会在某个时候对一款游戏感到厌倦，如果不是在几个月后，那么就是在 4 个月或 6 个月后。此外，Pokémon Go 的关卡数量是有限的，过了这个关卡，玩家就会被认为已经完成了。大多数玩家将永远不会达到超越一定的水平。他们会放弃，要么是游戏变得更难，要么是其货币化开始（当进展变得严格与游戏内购买挂钩或极慢，没有他们强迫玩家用真实的货币购买东西）。但玩一款锻炼游戏，哪怕是这样有限的几个月的时间，仍然是有益的，值得称赞的（虽然有些 Pokémon Go 玩家为了在游戏中进阶而作弊，而不是进行真正的身体活动[34]--将未来的锻炼游戏与心率和其他相关的身体传感器绑定，可以帮助最大限度地减少这种作弊行为，为玩家提供更好的反馈）。

Kamel Boulos（本文第一作者）在其早先提出的基于 Kinect 的 NUI（自然用户界面）的3D虚拟地球导航[35]概念的基础上，进一步提出将固定式自行车或跑步机与沉浸式 VR（Cardboard 或更好的）版本的谷歌街景/谷歌地球结合起来，玩家的步数将被转化为(或奖励)沿着法国巴黎香榭丽舍大街（例如）以及世界各地其他有趣的地标的娱乐性和文化性丰富的虚拟长廊。不断变化的风景（虚拟旅游）将作为刺激或动机，让玩家继续在固定自行车或跑步机上运动，而不会感到厌倦或过早放弃这项活动。可以添加一个社交元素（通过互联网），其他玩家（在同一建筑或其他地方的类似固定设备上跑步或骑自行车的朋友和家人）可以被“投射”到同一个沉浸式空间，并通过语音聊天进行交流，这样玩家在这些虚拟长廊中就不会孤单，而是会有其他玩家加入（另一个让玩家继续锻炼的动机）。空间化的 3D 环境声音频可以进一步将沉浸式虚拟环境中的街道、城市和乡村变得生动起来。这种涉及身体活动的 VRGIS 不仅会对人的身体健康有益，也会对玩家的心理健康有益，帮助人更好地管理自己的压力水平。这种沉浸式环境中的虚拟阳光也可能会发挥一些额外的情绪提升效果[36]，但需要研究确定阳光诱导对血清素和褪黑激素调节的效果是否同样适用于沉浸式 VR。在繁忙而紧张的办公日中，涉及上述设置的 15 分钟休息时间可以证明对员工的健康是有帮助和有益的，特别是在那些不方便到附近合适的户外娱乐场所进行步行、慢跑或骑自行车的情况下（例如，在那些黑暗、阴暗和下雨的冬季）。

### 更健康安全的生活（预防车祸、健康食品销售点建议等）
另一个值得一提的 ARGIS 应用是 iOnRoad，它可以帮助提高道路安全和预防车祸（想想“智能汽车”，这是智能健康城市的一个组成部分），可在 Android 和 iOS 上使用[37，38]。我们还可以想到一个有用的 ARGIS 应用，它可以将位于地图或相机照片上的附近餐厅与健康（和非健康）饮食信息进行增强，还可以根据用户的健康状况进行定制化推荐，例如，为糖尿病患者提供特殊的餐厅推荐（参考[39]中演示的 Layar 层，用于推荐美国洛杉矶及周边地区排名靠前的、附近的亚洲餐厅）。

本文余下部分介绍了当今 VRGIS 解决方案的主要技术基础和问题，重点介绍了基于 VRGIS 的智慧城市应用工具。

## VRGIS 的特点
在线虚拟世界和 3D 立体解决方案（被认为是 VRGIS 和 ARGIS 的基础技术）在社会、行为、经济和以人为中心的计算机科学领域具有很大的应用潜力，在公共和环境健康领域有很多应用[40-44]。在地理学领域，包括人文地理学和健康地理学领域，虚拟世界作为辅助工具已经被成功开发，促进了研究的创建和对地理学理论和实践的理解[45-49]。

VRGIS 可以看作是地理虚拟世界的增强版。VRGIS 融合了三维立体、VR 和 GIS 技术，利用 GIS 格式的足迹文件进行三维重建[50]，并基于耦合系统在 VR 领域表达 GIS 信息，VRGIS 方法由 GIS 和 VR 模块组成[51]。在虚拟环境中操作 VRGIS 时，用户可以通过不同的传感设备与系统进行交互，并获得系统的反馈。外部世界和系统可以通过传感设备形成一个反馈回路。

得益于现代多媒体、海量存储技术和通过宽带网络的链接，VRGIS 能够结合遥感（RS）、航空摄影测量、全球定位系统、地理信息系统、城市模拟、虚拟显示等技术，对多分辨率、多尺度的复杂地理环境进行多时空类别的详细三维描述。这其中，过去、现在和未来的地理环境都是通过计算机网络和其他信息技术，以数字虚拟现实的方式逼真地呈现出来的[51，52]。

## 当今 VRGIS 的主要问题
### 动态环境中的建模技术
VRGIS 中探索的虚拟世界，从自然景观到城市景观都有。许多 VRGIS 应用要求世界有一定的细节，才能发挥其作用。例如，城市规划者需要确定每座建筑的精确 3D 形状，以检查是否符合若干规定，如城市中的保护景观。负责规划太阳能装置以实现更绿色和更可持续的环境的能源公司可能会对城市屋顶的尺寸和倾斜度感兴趣，包括屋顶被附近建筑物遮挡的情况。为了满足这些要求，表示这些环境的3D模型应该是大而详细的，这使得它们变得非常复杂。

传统上，处理这种复杂性的技术挑战主要有两个。首先，由于 VR 要求是交互式的，模型应该以每秒 30 帧以上（fps）的速度实时显示，理想的情况下是以 60 帧左右的速度显示，以减少用户体验到的输入滞后[53，54]。渲染技术在过去几十年中已经成熟到可以在交互式帧率下实现这些复杂模型的非照片式显示，主要是通过将模型组织成空间层次结构[55，56]，例如在Cesium 3D Tiles[57]中实现的，以及通过降低远处几何体的细节水平[58]。基于网络的渲染[59，60]和三维建模[61-63]技术最近正在兴起，其中一些技术是专门为三维 GIS 可视化设计的[57]。

其次，要在合理的时间内创建这些模型所需的大量几何数据是很困难的。特别是对于详细的城市环境，这带来了巨大的挑战，在最近的计算机图形学研究中得到了很多关注[64]。数据可以通过摄影测量[65-68]从卫星、航空或街道级图像中获取，也可以通过 LIDAR（光探测和测距）[69，70]等测距扫描仪获取，或者通过人工建模来改进现有数据[71，72]或从头开始创建数据[73，74]，这可能是为了一个计划中的项目，其中没有真实世界的物体。这些方法在生成数据的保真度、所需的用户交互量和重建模型中的高层信息的可用性方面各不相同。高层信息可能是例如屋顶和门等对象的语义标签，可能是有用的建筑信息模型（BIM），或者是有助于有效修改建筑物的信息，例如建筑物的程序模型或其他有语义意义的参数化。通常情况下，几乎不需要用户交互的方法往往具有较低的保真度结果，较少的高级信息。最突出的例子可能是Google Earth[75]，它通过 Google Building Maker[76] 停止了手动建筑建模，而采用了更自动的摄影测量重建。需要更多用户交互的方法则在另一边，如程序化建模程序，如 CityEngine[13，77]，以及传统的多边形建模程序，如 Google SketchUp[78]、AutoCAD[79] 和 OnShape[61]。与 Google Earth 相比，人工建模较多的公司做城市重建的例子有 Esri[80] 和 VertexModeling[81]。

最近的发展集中在通过利用更高级别的模型结构[73, 74, 82, 83]来促进复杂几何体的手工建模，或者在自动重建中引入手工指导以获得更高质量的结果[71, 72, 84]。这些方法承诺在所需的用户交互量和所产生的模型质量之间进行更有利的权衡，但尚未在行业中确立自己的地位。

### 众包
‘大众地理信息系统的维基化’（Wikification of GIS by the masses，WGM）[85]，又称志愿地理信息（Volunteerered Geographic Information，VGI）[86]，是众包方式在 GIS 中的具体体现。随着社会网（或 Web 2.0）的出现和移动设备的改进，空间数据的增长不再局限于专业组织开展的活动。出现了一种范式转变，个人和非正式机构现在可以收集和传播自己的地理知识。用户为测绘项目做出贡献的原因多种多样，包括了解和分享当地知识，支持测绘数据免费提供的一般原则，以及他们所服务的社区的重视和认可[87]。世界各地还组织了官方的“测绘聚会”活动，邀请当地用户在测绘过程中与新来者进行交流和互动[88]。

来自 OpenStreetMap（OSM）等项目的用户生成地图因其令人印象深刻的细节水平而得到认可[89]，并已成为支持灾害管理[90]等应用的重要信息来源。然而，用户生成地图方面的进展主要局限于二维地图，尽管谷歌地球上有一些用户生成的三维模型[91]。研究人员目前正在探索将用户生成的地图扩展到下一个维度，即三维地图的潜力[50，92-94]，并且正在创建新的工具，以支持 VR 地图的生成和消费，例如 Google Earth VR[95]。

三维的协同测绘比二维的难度更大，因为它要求用户具备三维建模的基本知识和技能。同时 WGM 数据在质量、完整性和准确性上都是不均匀的，这使得 3D 重建变得困难[93]。然而，如果能够克服这些挑战，那么用户生成的全面的世界三维地图的想法就会带来许多令人兴奋的可能性。例如，伦敦城市的三维模型可以成为规划、旅游和遗产的共享资源，或者是一个由用户创建的极其庞大的幻想虚拟世界，可以成为下一代大型多人游戏的基础[50]。

### 系统集成和交互技术
GIS 不仅是一个系统，也是一门科学[96，97]。地理信息提供了多源、多维、多尺度、多时空模型和感知细节。数据融合与集成技术对系统具有重要意义。GIS 数据具有一些“大数据”的特点，如规模大、种类多、可预测性不一，而且往往是实时提供的[98]。在大数据方面，系统集成技术主要涉及空间数据的集成、存储管理模式和同步技术[99]，以及用户空间定位技术和人文数据[100]。这些技术可以概括为网络与通信（NC）技术和人机交互（HCI）技术。NC 侧重于系统集成，而 HCI 侧重于系统交互，这两类技术在用户和 VRGIS 之间架起了桥梁。

### 网络和通信技术
传统的分布式 VRGIS 利用网络将虚拟环境中的用户连接起来，进行分布式数据共享和多用户实时交互[101，102]。物联网[12]利用新一代传感器，将物理世界中的真实物体与互联网按照设定的协议连接起来，涉及信息交换和通信，从而实现智能识别、定位、跟踪、监控和资源管理。这使得 VRGIS 从“数字化”向“智能化”转化。同时，云计算技术为地理数据的分析、预测、抽象和可视化提供了更强大的计算能力。

### 人机交互界面
空间表征已经超越了视觉的范畴[103]。最早的 VR 采用了洞穴自动虚拟环境（CAVE）等大型 3D 显示技术以及 3D 眼镜[104]，为用户提供沉浸感[105]。传统的交互技术，如数据手套，有其缺点，使用起来会很不方便。它们的分辨率低，作用范围小，会造成严重的延迟。最新的交互设备和技术通过简化三维显示设备结构，降低成本，提高了虚拟现实的跟踪范围和精度[106，107]。同时，这些改进还提供了更好的 3D 图像质量和优越的视觉效果[108，109]，同时改善了用户的体验。例如，Oculus Rift 可以连接 PC（个人电脑）游戏，为玩家提供便捷的视觉沉浸感。增强现实和混合现实技术和设备，如谷歌眼镜（2015 年停产）[110]和微软 HoloLens[6]，促进了用户与现实（物理）和虚拟世界的互动，将两个领域无缝融合和整合。

## 基于 VRGIS 的智慧城市应用工具
许多用户对最新开发的 VRGIS 所带来的逼真视觉效果和身临其境的交互体验感到满意。VRGIS 应用成功的关键在于确定合适的应用领域[1]，并充分认识到 VRGIS 的功效及其为各个领域带来的便利[111]。要设计出针对性强的应用工具，不仅要熟悉 VRGIS 在当前场景下的实施可行性，还要深入了解相应的产业需求。VRGIS 专家对应用工具进行需求分析和功能设计，以达到每个案例所期望的实际目标，有效提高相应应用领域的劳动效率[48，112]。VRGIS 在某一领域的系统实施后，可以采用适当的人机交互和可用性测试方法对用户进行研究，衡量效果[113]。然后根据用户的反馈结果对应用进行最终判断[114，115]。

VRGIS 已经广泛应用于智慧城市和城市管理相关领域，如交通与运输[116]、电子政务与电子商务[98]、海洋与海岛管理[117-119]、景区管理[120]、虚拟社区[121]、地理教育[122，123]、地下管线管理[124]等。目前，虚拟地理学正在开发一些应用，包括虚拟城市、景观可视化、过去和未来地理学的可视化、抽象概念的可视化和带人参加虚拟野外课程[125-127]。

VRGIS 的传统城市与环境应用主要集中在景观结构模拟[120]；地貌结构模拟；地质结构模拟；大规模交通与城市工程结构模拟；地球系统的自然运动，如火山喷发、地震过程、洪水灾害等突发事件；湖泊、森林等自然生态系统的荒漠化与水土流失过程；区域、城市等生态系统模拟[128]；城市的可持续发展[129]；区域的改造与规划。在智慧城市的背景下，VRGIS 已被应用于人口管理、交通（拥堵）预测与缓解、城市资源配置、水资源监测、环境保护、灾害预防、预警系统和救援规划行动。

在现代智慧城市系统中，VRGIS 最基本的特点是能够将 3D 细节可视化。沉浸在虚拟环境中的用户可以针对某项任务或新的城市发展规划，测试不同的可能性和候选位置，以决定采取的最佳行动方案[130，131]。新建筑或其他设施的规划者可以从不同的角度全面了解其新的开发位置，包括周围和附近的建筑。用户，如城市管理者，可以看到街道、建筑物和车辆的实际景观，并评估附近建筑物的数量、拥挤状况和光照情况。

地理信息技术作为决策支持工具的核心功能，在充分发挥智慧城市和物联网等相关技术的潜力方面发挥着关键作用[100，131，132]。利用该技术强大的时空决策支持能力，用户可以查询相关的 GIS 数据库，分析和显示感兴趣的业务活动的分布情况，如公共设施的定位、主要管线等有用信息。通过紧急报警服务，负责人员可以立即获得需要立即处理的区域的三维图像，以便进一步处理。通过将事件信息适当地整合到地理信息系统数据库中，城市官员可以在事件发生时看到并动态监测与事件相关的智能城市对象的位置，例如在交通堵塞的情况下，特定的建筑物或特定的街道或路口。

## 结论
计算机技术的迅速发展为 VRGIS 和 ARGIS 在个人、公共和环境健康领域的应用开辟了新的领域。如果构思和实施得当，VRGIS 和相关技术可以为个人和社区带来更健康、更安全的生活。物联网驱动的智慧城市可通过 VRGIS 对大（地理）数据进行实时、有效和高度集成的三维可视化，从中受益最大。VRGIS 可以辅助分析城市结构和其他相关属性，为城市和环境规划设计提供辅助方法[133，134]。基础数据库可以随时（甚至是实时）更新三维数据，从而通过 VRGIS 及时（或实时展开）反映新的城市规划和区域变化，从而拓宽该技术的应用前景。

展望未来，VRGIS 和 ARGIS 在健康和医学领域应用的可能性几乎没有限制。例如，GIS 传统上是应用于地球表面的特征，但也可以将该技术应用于人体尺度的解剖特征[135]。在这方面，我们可以将皇家飞利浦公司用于图像引导的脊柱、颅骨和创伤手术的增强现实手术导航技术[136，137]视为 ARGIS / MRGIS 的一种先进和高度专业化的形式。与本文主题相关的新闻更新可随时访问[138]。

## 参考文献
